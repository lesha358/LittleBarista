# Исправление ошибки 404 на littlebarista.ru

## Проблема
Сайт littlebarista.ru выдает ошибку 404 Not Found при обращении к домену.

## Причины и решения

### 1. DNS записи на timeweb.cloud
**Проблема:** В панели timeweb.cloud отсутствует A-запись для `www.littlebarista.ru`

**Решение:**
1. Войдите в панель timeweb.cloud
2. Перейдите в раздел "Домены и SSL" → "DNS"
3. Добавьте A-запись:
   - **Тип:** A
   - **Хост:** www.littlebarista.ru
   - **Значение:** 82.97.243.139
   - **TTL:** 600

### 2. Конфигурация Nginx
**Проблема:** Nginx был настроен на принудительный редирект с HTTP на HTTPS, что могло вызывать проблемы

**Решение:** Обновлена конфигурация nginx.conf:
- Убран принудительный редирект HTTP → HTTPS
- Добавлены дополнительные заголовки для правильной работы с прокси
- Настроена поддержка как HTTP, так и HTTPS

### 3. Конфигурация Next.js
**Проблема:** Next.js не был настроен для работы с прокси-сервером

**Решение:** Обновлена конфигурация next.config.js:
- Добавлена поддержка HTTP протокола для изображений
- Настроены параметры для работы с доменом
- Добавлены настройки для правильной работы с прокси

## Пошаговая инструкция по исправлению

### Шаг 1: Обновите DNS записи на timeweb.cloud
1. Войдите в панель timeweb.cloud
2. Перейдите в "Домены и SSL" → выберите "littlebarista.ru" → "DNS"
3. Нажмите "Добавить запись"
4. Заполните:
   - **Тип:** A
   - **Хост:** www.littlebarista.ru
   - **Значение:** 82.97.243.139
   - **TTL:** 600
5. Сохраните запись

### Шаг 2: Пересоберите и перезапустите проект
1. В панели timeweb.cloud перейдите в ваш проект "LittleBarista"
2. Нажмите "Пересобрать" или "Redeploy"
3. Дождитесь завершения сборки

### Шаг 3: Проверьте работу сайта
1. Откройте http://littlebarista.ru
2. Откройте http://www.littlebarista.ru
3. Проверьте, что сайт загружается без ошибок 404

## Дополнительные проверки

### Проверка DNS записей
Выполните команды в терминале:
```bash
nslookup littlebarista.ru
nslookup www.littlebarista.ru
```

Оба должны возвращать IP адрес 82.97.243.139

### Проверка доступности
```bash
curl -I http://littlebarista.ru
curl -I http://www.littlebarista.ru
```

Оба должны возвращать статус 200 OK

## Если проблема сохраняется

1. **Проверьте логи в timeweb.cloud:**
   - Перейдите в проект → "Логи"
   - Ищите ошибки в логах приложения и nginx

2. **Проверьте статус SSL:**
   - Убедитесь, что SSL сертификат активен
   - Проверьте, что домен добавлен в SSL

3. **Обратитесь в поддержку timeweb.cloud:**
   - Опишите проблему
   - Приложите скриншоты DNS записей
   - Укажите, что домен куплен на reg.ru

## Файлы, которые были изменены

1. `nginx.conf` - убран принудительный редирект HTTP → HTTPS
2. `next.config.js` - добавлена поддержка HTTP и настройки для прокси

## Время применения изменений

- DNS записи: 5-15 минут
- Пересборка проекта: 2-5 минут
- **Общее время:** 10-20 минут
