# Исправление ошибки 404 на littlebarista.ru

## Проблема
Сайт littlebarista.ru выдает ошибку 404 Not Found при обращении к домену.

## Найденные проблемы и решения

### 1. ✅ Главная страница содержала только тестовый контент
**Проблема:** В `src/app/page.tsx` был только тестовый контент вместо полного сайта
**Решение:** Восстановлена полная главная страница со всеми компонентами

### 2. ✅ Отсутствовала nginx конфигурация
**Проблема:** Не было файла `nginx.conf` для правильной настройки веб-сервера
**Решение:** Создан `nginx.conf` с правильными настройками для статических файлов

### 3. ✅ Отсутствовал Dockerfile
**Проблема:** Не было Docker контейнера для деплоя
**Решение:** Создан `Dockerfile` для сборки статического сайта с nginx

### 4. ✅ Неправильная конфигурация деплоя
**Проблема:** `timeweb.config.json` был настроен для фронтенд деплоя, а не для статического
**Решение:** Обновлена конфигурация для Docker деплоя

## Файлы, которые были исправлены

1. **`src/app/page.tsx`** - восстановлена полная главная страница
2. **`nginx.conf`** - создана конфигурация nginx для статических файлов
3. **`Dockerfile`** - создан Docker контейнер
4. **`.dockerignore`** - создан файл исключений для Docker
5. **`timeweb.config.json`** - обновлена конфигурация деплоя

## Инструкция по деплою на Timeweb

### 1. В панели timeweb.cloud:

1. Перейдите в раздел **"Apps"**
2. Нажмите **"Добавить App"**
3. Выберите тип: **"Docker"**
4. Подключите репозиторий: `lesha358/LittleBarista`
5. Настройте:
   - **Dockerfile:** `Dockerfile`
   - **Команда сборки:** `npm run build`
   - **Домен:** `littlebarista.ru`

### 2. DNS записи:

Убедитесь, что в панели timeweb.cloud настроены:
- `littlebarista.ru` → IP адрес приложения
- `www.littlebarista.ru` → IP адрес приложения

### 3. Переменные окружения:

```
NODE_ENV=production
```

### 4. Пересборка проекта:

1. В панели timeweb.cloud перейдите в ваш проект "LittleBarista"
2. Нажмите "Пересобрать" или "Redeploy"
3. Дождитесь завершения сборки

## Проверка работы

После деплоя проверьте:
1. http://littlebarista.ru - должен загружаться полный сайт
2. http://www.littlebarista.ru - должен редиректить на основной домен
3. Все страницы должны работать без ошибок 404

## Основные различия с FreshRoom

1. **FreshRoom** - использует стандартный Next.js деплой
2. **LittleBarista** - использует статический экспорт с Docker + nginx

## Время применения изменений

- DNS записи: 5-15 минут
- Пересборка проекта: 2-5 минут
- **Общее время:** 10-20 минут

## Если проблема сохраняется

1. **Проверьте логи в timeweb.cloud:**
   - Перейдите в проект → "Логи"
   - Ищите ошибки в логах приложения и nginx

2. **Проверьте статус SSL:**
   - Убедитесь, что SSL сертификат активен
   - Проверьте, что домен добавлен в SSL

3. **Обратитесь в поддержку timeweb.cloud:**
   - Опишите проблему
   - Приложите скриншоты DNS записей
   - Укажите, что домен куплен на reg.ru

